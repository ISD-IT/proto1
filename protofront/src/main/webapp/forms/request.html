<div class="easyui-panel" title="Sales Order" style="width: 800px">
	<div style="padding: 10px 30px 20px 30px">

		<table id="edgRequest" title="Request" singleSelect="true"
			style="width: 700px; height: auto"
			data-options="iconCls: 'icon-edit', toolbar: '#tbr', idField : 'orderId'">
			<thead>
				<tr>
					<th field='orderId' width=80>SO Id</th>
					<th field='orderNo' width=250 editor="text">SO #</th>
					<th field='issueDate' width=250  formatter=RequestLib.dateFormatter 
							editor="{
								type:'datebox2', 
								options:{
									formatter:RequestLib.dateFormatter,
									parser:RequestLib.dateParser
								}
							}">Issue Date</th>
				</tr>
			</thead>
		</table>
		
		<div title="Request Lines"
			data-options="iconCls:'icon-save',selected:false"
			style="overflow: auto; padding: 10px;" >
			<table id="edgLines" title="Lines" singleSelect="true"
				style="width: 600px; height: auto" 
				data-options="iconCls: 'icon-edit', toolbar: '#tbolines', idField : 'olId'">
				<thead>
					<tr>
						<th field='olId' width=80>Line Id</th>
						<th field='productId' width=250 formatter=RequestLib.productFormatter 
								editor="{
		                            	type:'combobox',
		                            	options:{
			                                valueField:'id',
			                                textField:'name',
			                                method:'get',
			                                url:'/protofront/service/products/languageId=' + IndexLib.lang(),
			                                required:true
			                            }
                        			}">Product</th>
						<th field='uomId' width=50 formatter=RequestLib.productFormatter 
								editor="{
		                            	type:'combobox',
		                            	options:{
			                                valueField:'id',
			                                textField:'name',
			                                method:'get',
			                                url:'/protofront/service/masterdata/uoms/languageId=' + IndexLib.lang(),
			                                required:true
			                            }
                        			}">DU</th>
						<th field='olQnty' width=80 editor="{type:'numberbox'}">Qnty</th>
						<th field='olPrice' width=80 editor="{type:'numberbox',options:{precision:2}}">Price</th>
						<th field='olAmount' width=80 editor="{type:'numberbox',options:{precision:2}}">Amount</th>
						
					</tr>
				</thead>
			</table>
		</div>
		
		<div title="Request Line Parameters"
			data-options="iconCls:'icon-reload',selected:false"	style="padding: 10px;">
			<table id="edgLineParameters" title="Order Line Parameters" singleSelect="true"
				style="width: 600px; height: auto" 
				data-options="iconCls: 'icon-edit', toolbar: '#tbolparam', idField : 'olpId'">
				<thead>
					<tr>
						<th field='olpId' width=60>OLP Id</th>

						<th field='paramId' width=60>Par Id</th>
						<th field='paramName' width=120>Parameter</th>
						
						<th field='olpValue' width=120 editor="text">Value</th>

						<th field='uomId' width=60>Par UOM ID</th>
						<th field='uomName' width=80 editor="text">Par UOM Name</th>
						
						<th	data-options="field:'button',width:60,align:'center',formatter:RequestLib.button">Status</th>
						
						
					</tr>
				</thead>
			</table>
		</div>
		
	</div>
</div>

<div id="tbr" style="height: auto">
	<a href="javascript:void(0)" class="easyui-linkbutton"
		data-options="iconCls:'icon-add',plain:true" onclick="RequestLib.appendRequest()">Append</a>
	<a href="javascript:void(0)" class="easyui-linkbutton"
		data-options="iconCls:'icon-remove',plain:true"	onclick="RequestLib.removeRequest()">Remove</a> 
	<a href="javascript:void(0)"
		class="easyui-linkbutton"
		data-options="iconCls:'icon-save',plain:true" onclick="RequestLib.acceptRequest()">Accept</a>
	<a href="javascript:void(0)" class="easyui-linkbutton"
		data-options="iconCls:'icon-undo',plain:true" onclick="RequestLib.rejectRequest()">Reject</a>
	<a href="javascript:void(0)" class="easyui-linkbutton"
		data-options="iconCls:'icon-search',plain:true"
		onclick="RequestLib.getChanges()">GetChanges</a>
</div>

<div id="tbolines" style="height: auto">
	<a href="javascript:void(0)" class="easyui-linkbutton"
		data-options="iconCls:'icon-add',plain:true" onclick="RequestLib.appendLine()">Append</a>
	<a href="javascript:void(0)" class="easyui-linkbutton"
		data-options="iconCls:'icon-remove',plain:true"	onclick="RequestLib.removeLine()">Remove</a> 
	<a href="javascript:void(0)" class="easyui-linkbutton"
		data-options="iconCls:'icon-save',plain:true" onclick="RequestLib.acceptLine()">Accept</a>
	<a href="javascript:void(0)" class="easyui-linkbutton"
		data-options="iconCls:'icon-undo',plain:true" onclick="RequestLib.rejectLine()">Reject</a>
	<a href="javascript:void(0)" class="easyui-linkbutton"
		data-options="iconCls:'icon-search',plain:true"
		onclick="getChanges()">GetChanges</a>
</div>

<div id="tbolparam" style="height: auto">
	<a href="javascript:void(0)" class="easyui-linkbutton"
		data-options="iconCls:'icon-add',plain:true" onclick="RequestLib.appendLine()">Append</a>
	<a href="javascript:void(0)" class="easyui-linkbutton"
		data-options="iconCls:'icon-remove',plain:true"	onclick="RequestLib.removeLine()">Remove</a> 
	<a href="javascript:void(0)" class="easyui-linkbutton"
		data-options="iconCls:'icon-save',plain:true" onclick="RequestLib.saveLine()">Accept</a>
	<a href="javascript:void(0)" class="easyui-linkbutton"
		data-options="iconCls:'icon-undo',plain:true" onclick="RequestLib.rejectLine()">Reject</a>
	<a href="javascript:void(0)" class="easyui-linkbutton"
		data-options="iconCls:'icon-search',plain:true"
		onclick="getChanges()">GetChanges</a>
</div>

<script>
	$.getScript("/protofront/scripts/request.js").done(function() {
		RequestLib.init();
	});
</script> 