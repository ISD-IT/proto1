<!-- 
	Product form
	TODO:
	
-->

<div style="margin: 20px 0;"></div>
<div class="easyui-panel" title="Product" style="width: 800px">
	<div style="padding: 10px 30px 20px 30px">

			<h3>Select product type</h3>
			<input id="productType" class="easyui-combotree" 
				style="width: 600px;"
				data-options="url:'/protofront/service/productTypes/parents/?languageId='
								+ IndexLib.lang(), method:'GET'">

			<table id="edgProducts" title="Products" singleSelect="true"
				style="width: 700px; height: auto" data-options="iconCls: 'icon-edit', toolbar: '#tbp', idField : 'id'">
				<thead>
					<tr>
						<th field='productId' width=80>Product Id</th>
						<th field='productName' width=250" editor="text">Product name</th>
					</tr>
				</thead>
			</table>

			<div id="aa" class="easyui-accordion"
				style="width: 700px; height: 400px;">
				<div title="Translations"
					data-options="iconCls:'icon-save',selected:false"
					style="overflow: auto; padding: 10px;" >
					<table id="edgNames" title="Translations" singleSelect="true"
						style="width: 600px; height: auto" 
						data-options="iconCls: 'icon-edit', toolbar: '#tbn', idField : 'nameId'">
						<thead>
							<tr>
								<th field='nameId' width=80>Product Name Id</th>
								<th	data-options="field:'languageId',width:80,
                    					formatter: IndexLib.languageFormatter,
                   						editor:IndexLib.languageEditor">Language</th>
								<th field='productName' width=250 editor="text">Product
									Name</th>
							</tr>
						</thead>
					</table>
				</div>
				<div title="Parameters template"
					data-options="iconCls:'icon-reload',selected:true"
					style="padding: 10px;">
					<table id="edgParameters" title="Parameters" singleSelect="true"
						style="width: 600px; height: auto"
						data-options="iconCls: 'icon-edit', toolbar: '#tbpar', idField : 'productParameterId'">
						<thead>
							<tr>
								<th field='productParameterId' width=100>Product Parameter Id</th>
								<th
									data-options="field:'parameterId',width:100,
                        			formatter:function(value,row){
                            			return row.parameterName;
                        			},
                       				editor:{
		                            	type:'combobox',
		                            	options:{
			                                valueField:'parameterId',
			                                textField:'parameterName',
			                                method:'get',
			                                url:'/protofront/service/parameters/?languageId=' + $('#langSelector').combobox('getValue'),
			                                required:true
			                            }
                        			}">Parameter</th>
								<th
									data-options="field:'required',width:60,align:'center',editor:{type:'checkbox',options:{on:'true',off:'false'}}">Status</th>
								<th field='valueProvider' width=150>Value Provider</th>
								<th field='masterParameterId' width=150>Master Parameter ID</th>
							</tr>
						</thead>
					</table>
				</div>

			</div>
	</div>
</div>

<div id="tbp" style="height: auto">
	<a href="javascript:void(0)" class="easyui-linkbutton"
		data-options="iconCls:'icon-add',plain:true" onclick="ProductLib.append()">Append</a>
	<a href="javascript:void(0)" class="easyui-linkbutton"
		data-options="iconCls:'icon-remove',plain:true"	onclick="ProductLib.remove()">Remove</a> 
	<a href="javascript:void(0)" class="easyui-linkbutton"
		data-options="iconCls:'icon-save',plain:true" onclick="ProductLib.save()">Accept</a>
	<a href="javascript:void(0)" class="easyui-linkbutton"
		data-options="iconCls:'icon-undo',plain:true" onclick="ProductLib.reject()">Reject</a>
	<a href="javascript:void(0)" class="easyui-linkbutton"
		data-options="iconCls:'icon-search',plain:true"
		onclick="getChanges()">GetChanges</a>
</div>

<div id="tbn" style="height: auto">
	<a href="javascript:void(0)" class="easyui-linkbutton"
		data-options="iconCls:'icon-add',plain:true" onclick="ProductLib.appendName()">Append</a>
	<a href="javascript:void(0)" class="easyui-linkbutton"
		data-options="iconCls:'icon-remove',plain:true"	onclick="ProductLib.removeName()">Remove</a> 
	<a href="javascript:void(0)" class="easyui-linkbutton"
		data-options="iconCls:'icon-save',plain:true" onclick="ProductLib.saveName()">Accept</a>
	<a href="javascript:void(0)" class="easyui-linkbutton"
		data-options="iconCls:'icon-undo',plain:true" onclick="ProductLib.rejectName()">Reject</a>
	<a href="javascript:void(0)" class="easyui-linkbutton"
		data-options="iconCls:'icon-search',plain:true"
		onclick="getChanges()">GetChanges</a>
</div>

<div id="tbpar" style="height: auto">
	<a href="javascript:void(0)" class="easyui-linkbutton"
		data-options="iconCls:'icon-add',plain:true" onclick="ProductLib.appendParameter()">Append</a>
	<a href="javascript:void(0)" class="easyui-linkbutton"
		data-options="iconCls:'icon-remove',plain:true"	onclick="ProductLib.removeParameter()">Remove</a> 
	<a href="javascript:void(0)"
		class="easyui-linkbutton"
		data-options="iconCls:'icon-save',plain:true" onclick="ProductLib.acceptParameter()">Accept</a>
	<a href="javascript:void(0)" class="easyui-linkbutton"
		data-options="iconCls:'icon-undo',plain:true" onclick="ProductLib.rejectParameter()">Reject</a>
	<a href="javascript:void(0)" class="easyui-linkbutton"
		data-options="iconCls:'icon-search',plain:true"
		onclick="getChanges()">GetChanges</a>
</div>

<script>
	$.getScript("/protofront/scripts/product.js").done(function() {
		ProductLib.init();
	});
</script> 