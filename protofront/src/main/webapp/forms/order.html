<div class="easyui-panel" title="Order" style="width: 800px">
	<div style="padding: 10px 30px 20px 30px">
		<table id="edgOrder" title="Order" singleSelect="true"
				style="width: 700px; height: auto" 
					data-options="iconCls: 'icon-edit', toolbar: '#tbOrder', idField : 'orderId'">
			<thead>
				<tr>
					<th field='id' width=80>SO Id</th>
					<th field='documentNo' width=250 >Order #</th>
					<th field='issueDate' width=250 formatter=commonlib.dateFormatter>Issue Date</th>
				</tr>
			</thead>
		</table>
	
		<div id="orderAccordion" class="easyui-accordion" style="width: 700px; height: 400px;">
			<div id="orderDetails" title="Order details"
					data-options="iconCls:'icon-reload',selected:true"	style="padding: 10px;">
			</div>
			<div title="Order Lines"
				data-options="iconCls:'icon-save',selected:true"
				style="overflow: auto; padding: 10px;" >
				<table id="edgLines" title="Lines" singleSelect="true"
					style="width: 600px; height: auto" 
					data-options="iconCls: 'icon-edit', toolbar: '#tbolines', idField : 'orderLineId'">
					<thead>
						<tr>
							<th field='orderLineId' width=80>Line Id</th>
							<th field='productId' width=250 formatter=productUtil.productFormatter 
									editor="{
			                            	type:'combobox',
			                            	options:{
				                                valueField:'productId',
				                                textField:'productName',
				                                method:'get',
				                                url:'/protofront/service/products/?languageId=' + language.id(),
				                                required:true
				                            }
	                        			}">Product</th>
							<th data-options="field:'uomId',width:80,
                    					formatter: uomUtil.uomFormatter,
                   						editor:uomUtil.getUomEditor()">UOM</th>
							<th field='qnty' width=80 editor="{type:'numberbox'}">Qnty</th>
							<th field='price' width=80 editor="{type:'numberbox',options:{precision:2}}">Price</th>
							<th field='amount' width=80 editor="{type:'numberbox',options:{precision:2}}">Amount</th>
							
						</tr>
					</thead>
				</table>
			</div>
			
			<div title="Order Line Parameters"
				data-options="iconCls:'icon-reload',selected:false"	style="padding: 10px;">
				<table id="edgLineParameters" title="Order Line Parameters" singleSelect="true"
					style="width: 600px; height: auto" 
					data-options="iconCls: 'icon-edit', idField : 'olpId'">
					<thead>
						<tr>
							<th field='olpId' width=60>OLP Id</th>
	
							<th field='prodParamId' width=60>Prod Param Id</th>
							<th field='paramName' width=120>Parameter</th>
							
							<th field='olpValue' width=120 editor="text">Value</th>
	
								<th data-options="field:'uomId',width:80,
                    					formatter: uomUtil.uomFormatter,
                   						editor:uomUtil.getUomEditor()">UOM</th>
							
							<th	data-options="field:'button',width:60,align:'center',formatter:ordermod.button">Status</th>
							
						</tr>
					</thead>
				</table>
			</div>
		</div>		
	</div>
</div>

<script>
	var ordermod = require('ordermod');
	var commonlib = require('commonlib');
	var language = require('language');
	var uomUtil = require('uomUtil');
	var productUtil = require('productUtil');
</script>

